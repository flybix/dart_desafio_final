city_repository.dart
--------------------

import 'package:dart_desafio_final/models/cidade.dart';
import 'package:http/http.dart' as http;
import 'dart:convert' as convert;

class CityRepository {
  Future buscarCity() async {
    var url = 'https://servicodados.ibge.gov.br/api/v1/localidades/estados/35/distritos';
    var response = await http.get(Uri.parse(url));

    if (response.statusCode == 200) {
      var responseData = convert.jsonDecode(response.body);
      //Aqui retorna um Json Array em uma Lista...
      if (responseData is List) {
        //responseData.forEach((element) => print(element));//Aqui Ã© uma Lista...
        return responseData.toList(); //toList() recebe todos os dados de uma unica vez...;
      } else {
        throw Exception();
      }

      // if(responseData is Map){
      // print(responseData['cep']);
      // }
    }

    // if (response.statusCode == 200) {
    //   return Cidade.fromJson(response.body);
    // } else {
    //   throw Exception();
    // }
  }
}



search_city
-----------

//import 'package:dart_desafio_final/database/database.dart';
import 'package:dart_desafio_final/repository/city_repository.dart';

Future<void> main() async {
  var cityResponse = CityRepository();
  
  try {
    var responseCity = await cityResponse.buscarCity();
    print(responseCity);
  } catch (e) {
    print('Erro ao buscar cidade. Tente novamente mais tarde!');
  }
}
